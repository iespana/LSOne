/*
	Incident No.	: ONE-7559
	Responsible		: Adrian Chiorean
	Sprint			: Vindum
	Date created	: 06.09.2017

	Description		: Add Gift card balance form type and layout
*/

USE LSPOSNET

IF NOT EXISTS (SELECT ID FROM POSFORMTYPE WHERE ID = '1F74CDE8-3979-4661-B363-EC3665BFE8E7')
BEGIN
	INSERT INTO POSFORMTYPE (ID, DESCRIPTION, SYSTEMTYPE, DATAAREAID)
	VALUES ('1F74CDE8-3979-4661-B363-EC3665BFE8E7', 'Gift card balance', 38, 'LSR')
END

IF NOT EXISTS (SELECT ID FROM POSISFORMLAYOUT WHERE ID = 'SYS100029')
BEGIN
	INSERT INTO [POSISFORMLAYOUT] (ID, DATAAREAID, DEFAULTFORMWIDTH, DESCRIPTION, FOOTERXML, FORMTYPEID, HEADERXML, LINECOUNTPRPAGE, LINESXML, PRINTASSLIP, PRINTBEHAVIOUR, PROMPTQUESTION, PROMPTTEXT, TITLE, UPPERCASE, USEWINDOWSPRINTER, WINDOWSPRINTERNAME, ISSYSTEMLAYOUT) VALUES 
	('SYS100029', 'LSR', '56', 'Gift card balance', '3C6865616465723E0D0A20203C6C696E65206E723D223030222049443D2243524C4622202F3E0D0A3C2F6865616465723E000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', '1f74cde8-3979-4661-b363-ec3665bfe8e7', '3C6865616465723E0D0A20203C6C696E65206E723D223030222049443D225465787422204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22303222207661726961626C653D224C6F676F222076616C75653D22222066696C6C3D222022207072656669783D2222206C656E6774683D223534222076616C69676E3D2263656E7472652220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A20203C6C696E65206E723D223031222049443D225465787422204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22303222207661726961626C653D2253746F7265206E616D65222076616C75653D22222066696C6C3D222022207072656669783D2222206C656E6774683D223534222076616C69676E3D2263656E7472652220466F6E745374796C653D22362220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A20203C6C696E65206E723D223032222049443D2243524C4622202F3E0D0A20203C6C696E65206E723D223033222049443D224E6F6E5F5661726961626C6522204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22303322207661726961626C653D22222076616C75653D225465726D696E616C202E2E2E2E3A222066696C6C3D222022207072656669783D2222206C656E6774683D223134222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A202020203C63686172706F73206E723D22313822207661726961626C653D225465726D696E616C204944222076616C75653D22222066696C6C3D222022207072656669783D2222206C656E6774683D223230222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A202020203C63686172706F73206E723D22333922207661726961626C653D22222076616C75653D22446174653A222066696C6C3D222022207072656669783D2222206C656E6774683D2235222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A202020203C63686172706F73206E723D22343522207661726961626C653D2244617465222076616C75653D22222066696C6C3D222022207072656669783D2222206C656E6774683D223130222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A20203C6C696E65206E723D223034222049443D225465787422204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22303322207661726961626C653D22222076616C75653D225374616666202E2E2E2E2E2E2E3A222066696C6C3D222022207072656669783D2222206C656E6774683D223134222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A202020203C63686172706F73206E723D22313822207661726961626C653D224F70657261746F72206E616D65206F6E2072656365697074222076616C75653D22222066696C6C3D222022207072656669783D2222206C656E6774683D223230222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A202020203C63686172706F73206E723D22333922207661726961626C653D22222076616C75653D2254696D653A222066696C6C3D222022207072656669783D2222206C656E6774683D2235222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A202020203C63686172706F73206E723D22343522207661726961626C653D2254696D65323448222076616C75653D22222066696C6C3D222022207072656669783D2222206C656E6774683D223130222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A20203C6C696E65206E723D223035222049443D2243524C4622202F3E0D0A20203C6C696E65206E723D223036222049443D224E6F6E5F5661726961626C6522204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22303222207661726961626C653D22222076616C75653D222D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D222066696C6C3D222D22207072656669783D2222206C656E6774683D223534222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A20203C6C696E65206E723D223037222049443D224E6F6E5F5661726961626C6522204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22303222207661726961626C653D22222076616C75653D22476966742063617264222066696C6C3D222022207072656669783D2222206C656E6774683D223237222076616C69676E3D2263656E7472652220466F6E745374796C653D22372220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A20203C6C696E65206E723D223038222049443D2243524C4622202F3E0D0A20203C6C696E65206E723D223039222049443D225465787422204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22303222207661726961626C653D22476966742063617264206E756D626572222076616C75653D22222066696C6C3D222022207072656669783D2222206C656E6774683D223237222076616C69676E3D2263656E7472652220466F6E745374796C653D22372220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A20203C6C696E65206E723D223130222049443D2243524C4622202F3E0D0A20203C6C696E65206E723D223131222049443D224E6F6E5F5661726961626C6522204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22313022207661726961626C653D22222076616C75653D2250616964206E6F773A222066696C6C3D222022207072656669783D2222206C656E6774683D223138222076616C69676E3D2272696768742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A202020203C63686172706F73206E723D22323922207661726961626C653D2247696674206361726420616D6F756E74222076616C75653D22222066696C6C3D222022207072656669783D2222206C656E6774683D223136222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A20203C6C696E65206E723D223132222049443D2243524C4622202F3E0D0A20203C6C696E65206E723D223133222049443D224E6F6E5F5661726961626C6522204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22313022207661726961626C653D22222076616C75653D2243757272656E742062616C616E63653A222066696C6C3D222022207072656669783D2222206C656E6774683D223138222076616C69676E3D2272696768742220466F6E745374796C653D22362220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A202020203C63686172706F73206E723D22323922207661726961626C653D224769667420636172642062616C616E6365222076616C75653D22222066696C6C3D222022207072656669783D2222206C656E6774683D223136222076616C69676E3D226C6566742220466F6E745374796C653D22362220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A20203C6C696E65206E723D223134222049443D2243524C4622202F3E0D0A20203C6C696E65206E723D223135222049443D224E6F6E5F5661726961626C6522204E756D6265726F66436F6C756D6E733D223536223E0D0A202020203C63686172706F73206E723D22303222207661726961626C653D22222076616C75653D222D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D222066696C6C3D222D22207072656669783D2222206C656E6774683D223534222076616C69676E3D226C6566742220466F6E745374796C653D22302220436F6E646974696F6E616C4964656E7469666965723D2222202F3E0D0A20203C2F6C696E653E0D0A3C2F6865616465723E000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', '0', '3C6865616465723E0D0A20203C6C696E65206E723D223030222049443D2243524C4622202F3E0D0A3C2F6865616465723E000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', '0', '0', '0', '', 'Gift card balance', '0', '0', '', 1)
END

IF (0 <> (SELECT COUNT(*) FROM [dbo].[POSFORMPROFILELINES] WHERE [PROFILEID] = '0C7D790C-096C-4ED5-94B5-6B9814C87A46'))
IF NOT EXISTS (SELECT 1 FROM POSFORMPROFILELINES WHERE PROFILEID = '0C7D790C-096C-4ED5-94B5-6B9814C87A46' AND FORMLAYOUTID = 'SYS100029' AND FORMTYPEID = '1F74CDE8-3979-4661-B363-EC3665BFE8E7')
BEGIN
	INSERT INTO [POSFORMPROFILELINES] (PROFILEID, FORMTYPEID, FORMLAYOUTID, DATAAREAID, DESCRIPTION, ISSYSTEMPROFILELINE)
	VALUES ('0C7D790C-096C-4ED5-94B5-6B9814C87A46', '1F74CDE8-3979-4661-B363-EC3665BFE8E7', 'SYS100029', 'LSR', '', 1)
END
GO